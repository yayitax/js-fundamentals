<!DOCTYPE html>
<html>

<head>
    <title>Forms</title>
</head>

<body>
    <h3>JavaScript Fundamentals</h3>
    <form action="/somepath" id="user-form">
        <input name="user" placeholder="User Name">
        <span id="user-error"></span>
        <br>
        <input name="avatar-file" placeholder="Avatar File">
        <span id="avatar-error"></span>
        <br>
        <button type="submit">Submit</button>
    </form>

    <script>
        let form = document.getElementById('user-form');
        form.addEventListener('submit', event => {
            let user = form.elements['user'];
            let userError = document.getElementById('user-error');
            let avatarFile = form.elements['avatar-file'];
            let avatarError = document.getElementById('avatar-error');

            if (user.value.length < 5) {
                userError.textContent = 'Invalid Entry, try again';
                userError.style.color = 'red';
                user.style.borderColor = 'red';
                user.focus();
            }

            if (avatarFile.value.length < 5) {
                avatarError.textContent = 'Invalid Entry, try again';
                avatarError.style.color = 'red';
                avatarFile.style.borderColor = 'red';
                avatarFile.focus();
            }

            import $ from 'jquery';
            let posting = {
                user: user.value,
                avatarFile: avatarFile.value
            }

            let promise = $.post('', posting);
            promise.then(
                data => console.log('Success: ', data),
                error => console.log("Error: ", error)
            );

            console.log(user.value, avatarFile.value);
            event.preventDefault();
        });
    </script>
</body>

</html>